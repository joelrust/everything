<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>My Website</title>
   <!-- <link rel="stylesheet" href="./style.css"> -->
    <link rel="icon" href="./favicon.ico" type="image/x-icon">
    <script type="text/javascript" src="https://cdn.cycling74.com/rnbo/latest/rnbo.min.js"></script>

  </head>
  <body>
    <main>
        <h1>Welcome to My Website</h1>  
        <button onclick="myFunction()">Click me</button>

<p id="demo"></p>

    </main>
   
    <script type="module">


const { createDevice } = RNBO;

      let WAContext = window.AudioContext || window.webkitAudioContext;
let context = new WAContext();
async function setup () {
    let rawPatcher = await fetch("export/patch.export.json");
    let patcher = await rawPatcher.json();

    let device = await createDevice({ context, patcher });

    // This connects the device to audio output, but you may still need to call context.resume()
    // from a user-initiated function.
    device.node.connect(context.destination);

    
};    
setup();

function myFunction() {
  const { TimeNow, MessageEvent } = require("@rnbo/js")

// Sends the number 74 to the first inlet
// All inlets have a tag with the form "in$", where $ is the index of the inlet (starting at 1)
const event1 = new MessageEvent(TimeNow, "in1", [ 74 ]);
device.scheduleEvent(event1);};


    </script>
  
	
  </body>
</html>