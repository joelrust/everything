<!doctype HTML>
<html>
<head>
  <meta charset="utf-8">
  <title>everything</title>
  <meta name="description" content="">
  <meta name="author" content="Joel Rust">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link href="//fonts.googleapis.com/css?family=Raleway:400,300,600" rel="stylesheet" type="text/css">
  <link rel="stylesheet" href="normalize.css">
  <link rel="stylesheet" href="skeleton.css">
  <link rel="icon" type="image/png" href="images/favicon.png">
  <script src="js/jquery.js"></script>
  <script src="js/words.js"></script>
   <script src="js/src.js"></script>

<style>
.wrapper {
    text-align: center; }
</style>
</head>

<header>
<div class="wrapper">
<h2><i><p id="dyn">p</p></i></h2></div>
</header>
<body>
<div class="wrapper">
<h1><p id="demo"><br></p></h1></div>
<div class="wrapper">
<button id="clicker" class="button-primary"  onclick="startText()">Start</button> </div>
  <p></p>
  <h1><p id="space"><br></p></h1></div>
    <p></p>
<div class="wrapper">
<button id="clicker" class="button-primary"  onclick="audioLaunch()">(iOS only: Enable Audio)</button> </div>

<script type="text/javascript">
// has been checked as far as 'lancashire':
 var audio = new Audio();
 //how many times it's been pressed:
   var iter = 0;
//range of wait time in seconds:
   var hi = 10;
   //floor of wait time in seconds:
   var lo = 5;
   // which of notes to start from
   var y = 0;
     // how many notes to use
   var x = 1;
   // word range



 var notes = ["49",
              "49", "48",
              "49", "48", "46",
              "49", "46", "44",
              "49", "47", "46", "44",
              "49", "47", "44",
              "49", "47", "45", "44",
              "45", "44",
              "50", "48", "45", "44",
              "50", "48", "47", "45",
              "52", "50", "48", "47",
              "52", "50", "48",
              "52", "48",
              "48",
              "50", "48",
              "53", "50", "48",
              "55", "53", "50", "48",
              "53", "51",
              "53", "51", "49",

              ];


 function startText() {  document.getElementById("clicker").innerHTML = "wait"; var countdownSecondsLeft = ([Math.floor(Math.random() * (hi - lo + 1)) + lo] * 1); document.getElementById("demo").innerHTML = countdownSecondsLeft;
                       var countdownTimer = setInterval(function() {countdownSecondsLeft -= 1;
  if(iter <= 0) { audio.src = "click.mp3";
       audio.play(); iter += 1;  setInterval(function() {wordRange*= expo; wordLowBounds *= expo }, (15000 * mult));
  setTimeout(function(){
    setTimeout(function(){y += x; x = 2},  (6000 * mult));
    setTimeout(function(){y += x; x = 3; hi = 9}, (12000 * mult));
    setTimeout(function(){y += x; x = 3}, (24000 * mult));
    setTimeout(function(){y += x; x = 4; hi = 8; lo = 4}, (30000 * mult));
    setTimeout(function(){y += x; x = 3}, (42000 * mult));
    setTimeout(function(){y += x; x = 4; hi = 7}, (48000 * mult));
    setTimeout(function(){y += x; x = 2; hi = 6; lo = 3}, (60000 * mult));
    setTimeout(function(){y += x; x = 4}, (68000 * mult));
    setTimeout(function(){y += x; x = 4; hi = 5}, (80000 * mult));
    setTimeout(function(){y += x; x = 4}, (88000 * mult));
    setTimeout(function(){hi = 4; lo = 2; document.getElementById("dyn").innerHTML = "mp" }, (90000 * mult));
    setTimeout(function(){y += x; x = 3}, (93000 * mult));
    setTimeout(function(){y += x; x = 2}, (99000 * mult));
    setTimeout(function(){y += x; x = 1; hi = 3}, (105000 * mult));
    setTimeout(function(){y += x; x = 2}, (117000 * mult));
    setTimeout(function(){hi = 3; lo = 1}, (120000 * mult));
    setTimeout(function(){y += x; x = 3; hi = 2}, (132000 * mult));
    setTimeout(function(){y += x; x = 4;}, (144000 * mult));
    setTimeout(function(){y += x; x = 2; hi = 1}, (150000 * mult));
    setTimeout(function(){y += x; x = 3; hi = 2}, (166000 * mult));
    setTimeout(function() {var e = document.getElementById("demo"); e.id = "fin"; document.getElementById("fin").innerHTML = "[stop]"; document.getElementById("clicker").innerHTML = "Reset"; countdownTimer = 0; countdownSecondsLeft = 0; document.getElementById('clicker').setAttribute( "onClick", "window.location.reload(true)" ) ; audio = 0;  document.getElementById("dyn").innerHTML = "â€”";   }, (180000 * mult));


  }, 5000);
  };
  if(countdownSecondsLeft <= 0) {
    clearInterval(countdownTimer);
      var nam = "audio/"+(notes[(Math.floor(Math.random() * x)) + y])+".mp3";
        audio.src = nam;
       audio.play()
     document.getElementById("clicker").innerHTML = "Next";
    var wn = [(Math.floor(Math.random() * (wordRange- wordLowBounds + wordLowBoundsInitial) + wordLowBounds - wordLowBoundsInitial)) % wordlist.length];
    document.getElementById("demo").innerHTML = wordlist[wn]
    // uncomment next line forword debugging
 //  + " | " + wn + "/" +wordRange+ " | " + nam + " | " + x +"/" + y
    ;

       } else { document.getElementById("demo").innerHTML = countdownSecondsLeft; } }, 1000); };
</script>
</body>
</html>
